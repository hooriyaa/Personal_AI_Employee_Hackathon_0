# Feature Specification: Real LinkedIn Posting via Selenium

**Feature Branch**: `003-linkedin-selenium-post`
**Created**: 2026-02-09
**Status**: Draft
**Input**: User description: "Real LinkedIn Posting via Selenium **Goal:** Enable the Agent to perform \"Real Actions\" by integrating Selenium WebDriver. This fulfills the Silver Tier requirement to \"Automatically Post on LinkedIn\". **Current State:** - The `ActionRunner` currently prints a simulation log (\"Connecting to LinkedIn...\") but performs no real browser interaction. **Requirements:** 1. **Library:** Use `selenium` and `webdriver-manager` (already installed or add to requirements). 2. **Browser Control:** - Launch a Chrome browser instance using the user's existing Chrome Profile (to avoid repeated 2FA/Login issues). - Navigate to `https://www.linkedin.com/feed/`. 3. **Action Logic (`src/action_runner.py`):** - Update `execute_linkedin_action` to: - Open the browser. - Click \"Start a Post\". - Type the content generated by Gemini. - **Safety Stop:** Do NOT click the final \"Post\" button automatically. Leave it open for the user to review and click manually (Human-in-the-Loop safety). 4. **Error Handling:** If Chrome cannot open (e.g., user is already using the profile), log a clear error message. **Success Criteria:** - When a LinkedIn draft is approved, a Chrome window opens, and the text appears in the LinkedIn post box automatically."

## User Scenarios & Testing *(mandatory)*

### User Story 1 - Automated LinkedIn Post Creation (Priority: P1)

A user approves a LinkedIn post draft in the `/Pending_Approval` directory. The system automatically opens a Chrome browser using the user's existing profile, navigates to LinkedIn, clicks "Start a Post", and fills in the content generated by Gemini. The post remains in draft form for the user to review and publish manually.

**Why this priority**: This is the core functionality that enables "Real Actions" as required by the Silver Tier, moving beyond simulated actions to actual browser automation.

**Independent Test**: The system can open Chrome with the user's profile, navigate to LinkedIn, and populate a post with content from an approved draft file without clicking "Post".

**Acceptance Scenarios**:

1. **Given** a LinkedIn post draft exists in `/Pending_Approval`, **When** the draft is approved/moved to `/Approved`, **Then** Chrome opens with the user's profile and the post content appears in the LinkedIn post box.
2. **Given** Chrome is already in use by the user, **When** a LinkedIn post draft is approved, **Then** the system logs a clear error message and does not interfere with the user's current browsing session.

---

### User Story 2 - Safe Automation with Human Oversight (Priority: P2)

The system automates the LinkedIn posting process but maintains human oversight by stopping before the final "Post" action. This ensures content quality and compliance with LinkedIn's terms of service.

**Why this priority**: This implements the critical "Human-in-the-Loop" safety mechanism that prevents unauthorized or inappropriate content from being published automatically.

**Independent Test**: The system completes all steps up to populating the post content but stops before clicking the final "Post" button, leaving the post in a draft state for human review.

**Acceptance Scenarios**:

1. **Given** LinkedIn post content is ready for publication, **When** the automation runs, **Then** the content appears in the post box but the "Post" button is not clicked.
2. **Given** a user wants to review the auto-populated content, **When** the Chrome window opens, **Then** they can edit the content or discard the post before publishing.

---

### User Story 3 - Robust Error Handling for Browser Automation (Priority: P3)

The system handles various error conditions that may arise during browser automation, such as profile conflicts, network issues, or LinkedIn interface changes.

**Why this priority**: This ensures the system remains stable and provides clear feedback when automation fails, preventing crashes or unexpected behavior.

**Independent Test**: When Chrome cannot be launched due to profile conflicts or other issues, the system logs a clear error message without crashing.

**Acceptance Scenarios**:

1. **Given** the user's Chrome profile is already in use, **When** the system attempts to launch Chrome, **Then** it logs a clear error message indicating the conflict.
2. **Given** LinkedIn's interface has changed, **When** the automation attempts to find UI elements, **Then** it logs an appropriate error message and gracefully handles the failure.

---

### Edge Cases

- What happens when the user's LinkedIn session has expired?
- How does the system handle network connectivity issues during automation?
- What occurs if LinkedIn's interface changes and selectors no longer match?
- How does the system handle multiple simultaneous LinkedIn post approvals?

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: System MUST integrate Selenium WebDriver for browser automation
- **FR-002**: System MUST launch Chrome using the user's existing profile to maintain login state
- **FR-003**: System MUST navigate to LinkedIn feed and initiate a new post
- **FR-004**: System MUST populate the post content with text from approved draft files
- **FR-005**: System MUST NOT click the final "Post" button, leaving content in draft state
- **FR-006**: System MUST handle profile conflicts by logging clear error messages
- **FR-007**: System MUST gracefully handle network and interface change errors
- **FR-008**: System MUST use webdriver-manager to manage ChromeDriver versions

### Key Entities

- **LinkedInPostDraft**: Represents the content to be posted, containing the text and metadata
- **BrowserProfile**: Represents the Chrome profile configuration for maintaining user session
- **AutomationResult**: Represents the outcome of the automation process, including success/failure status and error messages

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: Users can approve LinkedIn drafts which automatically open in Chrome with content populated within 10 seconds
- **SC-002**: System successfully handles 95% of LinkedIn post requests without crashing
- **SC-003**: Zero unauthorized posts are published without human confirmation
- **SC-004**: Error messages are clear and actionable when automation fails
- **SC-005**: Browser automation works consistently across different LinkedIn interface updates